// Intermediate code for the agents of Delivery robot

0
1
d packet

3
deliver 0
main 0
move_to 2 d move_to.x d move_to.y

4
fetch n
grab n
bring n
leave n

fetch
0
1
o move_to
2
d move_to.x
i getPacketX
1
d getPacketX.packet
o packet
d move_to.y
i getPacketY
1
d getPacketY.packet
o packet
i
& 2
=
i getPacketX
1
d getPacketX.packet
o packet
i robotX
0
=
i getPacketY
1
d getPacketY.packet
o packet
i robotY
0
t grab
t fetch
0
1
a pickUp
0
t bring
0
1
o move_to
2
d move_to.x
i getDestinationX
1
d getDestinationX.packet
o packet
d move_to.y
i getDestinationY
1
d getDestinationY.packet
o packet
i
& 2
=
i getDestinationX
1
d getDestinationX.packet
o packet
i robotX
0
=
i getDestinationY
1
d getDestinationY.packet
o packet
i robotY
0
t leave
t bring
1
1
a leave
0
t leave



3
getNext n
deliver n
done n

getNext
0
1
d packet
+
o packet
v 1
t deliver
0
1
o deliver
0
i
t
i
<
o packet
-
i getNrPackets
0
v 1
t getNext
t done
t deliver
1
0
t done



4
adjust_direction n
turn_left n
turn_right n
move_forward n

adjust_direction
0
0
i
c
i directionToPoint
2
d directionToPoint.x
p move_to.x
d directionToPoint.y
p move_to.y
i robotDirection
0
t move_forward
i
i turnWhichWay
1
e Direction turnWhichWay.to
i directionToPoint
2
d directionToPoint.x
i getDestinationX
1
d getDestinationX.packet
o packet
d directionToPoint.y
i getDestinationY
1
d getDestinationY.packet
o packet
t turn_right
t turn_left
0
1
a turn_left
0
t adjust_direction
0
1
a turn_right
0
t adjust_direction
0
1
a move_forward
0
t adjust_direction



1
robot main
